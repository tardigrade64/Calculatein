<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Scientific Calculator</title>
    <style>
        /* Your previous styles go here... */
    </style>
</head>
<body>
    <button id="colorButton" onclick="changeButtonColors()">üñåÔ∏è</button>

    <div id="calculator">
        <input id="display" type="text" disabled>
        <!-- Buttons for numbers, operations, etc... -->
    </div>

    <script>
        let currentInput = '';
        let operation = null;
        let firstOperand = null;
        let secondOperand = null;
        let matrixMode = false;
        let unitsMode = false;
        let statsMode = false;
        let dateMode = false;

        function updateDisplay() {
            document.getElementById('display').value = currentInput;
        }

        function appendNumber(number) {
            currentInput += number;
            updateDisplay();
        }

        function appendDecimal() {
            if (!currentInput.includes('.')) {
                currentInput += '.';
                updateDisplay();
            }
        }

        function setOperation(op) {
            if (currentInput === '') return;
            if (firstOperand === null) {
                firstOperand = parseFloat(currentInput);
            } else {
                firstOperand = calculate();
            }
            operation = op;
            currentInput = '';
        }

        function calculate() {
            let result = 0;
            secondOperand = parseFloat(currentInput);

            switch (operation) {
                case '+':
                    result = firstOperand + secondOperand;
                    break;
                case '-':
                    result = firstOperand - secondOperand;
                    break;
                case '*':
                    result = firstOperand * secondOperand;
                    break;
                case '/':
                    result = firstOperand / secondOperand;
                    break;
                // More scientific operations...
            }

            firstOperand = result;
            operation = null;
            currentInput = result.toString();
            updateDisplay();
        }

        function clearDisplay() {
            currentInput = '';
            firstOperand = null;
            operation = null;
            updateDisplay();
        }

        function matrixAdd() {
            // Add matrices logic
        }

        function matrixMultiply() {
            // Matrix multiplication logic
        }

        function determinant() {
            // Matrix determinant logic
        }

        function convertUnits() {
            // Unit conversion logic
        }

        function calculateStats() {
            // Mean, median, mode calculation logic
        }

        function calculateDate() {
            // Date/Time operations (e.g., add/subtract days)
        }

        function changeButtonColors() {
            const buttons = document.querySelectorAll('.button');
            const colors = ['red', 'orange', 'yellow', 'green', 'blue'];
            let currentColor = buttons[0].classList[1];

            let nextColor = colors[(colors.indexOf(currentColor) + 1) % colors.length];
            buttons.forEach(button => {
                button.classList.remove(currentColor);
                button.classList.add(nextColor);
            });
        }

        // Other functions like matrix operations, conversions, etc...
    </script>
</body>
</html>
